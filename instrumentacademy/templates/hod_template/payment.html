{% extends 'main_app/base.html' %}
{% load static %}
{% block page_title %}{{ page_title }}{% endblock page_title %}
{% block content %}
<div>
     <a href="/admin/payment/order/" class="nav-link" style=" display: flex; background-color: rgb(34, 34, 34); width: 130px; margin-left: 1250px; align-items: center; color: white; border-radius: 10px; justify-content: center;"> Order List</a> 
    
    </div>
<section class="content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <!-- LINE CHART -->
                <div class="card card-secondary">
                    <div class="card-header">
                        <h3 class="card-title">{{ page_title }}</h3>
                        <div class="card-tools">
                            <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i></button>
                            <button type="button" class="btn btn-tool" data-card-widget="remove"><i class="fas fa-times"></i></button>
                        </div>
                    </div>
                    <div class="card-body">
                        <canvas id="lineChart" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock content %}

{% block custom_js %}
<script src="{% static 'assets/js/chart/Chart.js' %}"></script>
<script>
    $(document).ready(function(){
        // Data for the line chart (payments)
        var paymentsData = {{ payments_data }};

        // Months array
        var months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];

        // Render the line chart
        var lineChartCanvas = $('#lineChart').get(0).getContext('2d');
        var lineChart = new Chart(lineChartCanvas, {
            type: 'line',
            data: {
                labels: months,
                datasets: [{
                    label: 'Payments',
                    data: [12, 19, 3, 5, 2, 3, 15], // Example data (replace with actual data)
                    borderColor: '#007bff',
                    backgroundColor: 'transparent',
                }]
            },
            options: {
                maintainAspectRatio: false,
                responsive: true,
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Months'
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Number of Payments'
                        }
                    }
                }
            }
        });
    });
</script>
{% endblock custom_js %}
